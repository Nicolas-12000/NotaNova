{% extends 'calificaciones/landing_base.html' %}

{% block title %}Listado de Calificaciones{% endblock %}

{% block content %}
<section class="hero">
    <h2 class="hero-title">Listado de Calificaciones</h2>
    <p class="hero-description">Total registros: {{ total_registros }} — Promedio General: {{ promedio_general }}</p>
    <p><a href="{% url 'calificaciones:crear_calificacion' %}" class="cta-button">Agregar Calificación</a></p>
</section>

<section class="features">
    <div style="width:100%">
        <table class="tabla">
            <thead><tr><th>Nombre</th><th>ID</th><th>Asignatura</th><th>Promedio</th><th>Acciones</th></tr></thead>
            <tbody>
            {% for c in calificaciones %}
                <tr>
                    <td>{{ c.nombre_estudiante }}</td>
                    <td>{{ c.identificacion }}</td>
                    <td>{{ c.asignatura }}</td>
                    <td>{{ c.promedio|floatformat:2 }}</td>
                    <td>
                        <a href="{% url 'calificaciones:editar_calificacion' c.pk %}">Editar</a> |
                        <a href="{% url 'calificaciones:eliminar_calificacion' c.pk %}">Eliminar</a>
                    </td>
                </tr>
            {% empty %}
                <tr><td colspan="5">No hay registros</td></tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}